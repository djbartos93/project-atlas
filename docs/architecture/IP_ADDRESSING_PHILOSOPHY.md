# IP Addressing Philosophy - Project Atlas

## Please note, this file was 100% generated by AI, while it has been reviewed, no changes were made and accuracy cannot be guaranteed.

**The Big Question**: Should we use real-world IP blocks and ASNs, or make things up with private space?

**TL;DR**: **Hybrid approach** - use real ASNs and realistic public IPs for Tier-1s, private ASNs and space for your ISPs

---

## üéØ The Debate

### Option A: Pure Private/Fake Everything
```
AS Numbers: 65000, 65001, 65002, etc. (private range)
IP Addressing: 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16
```

**Pros**:
- ‚úÖ No conflicts with real internet
- ‚úÖ Clearly a lab
- ‚úÖ Safe to document publicly

**Cons**:
- ‚ùå Less realistic
- ‚ùå Doesn't teach public IP management
- ‚ùå Loses some learning value

### Option B: Pure Real Everything
```
AS Numbers: Actual 174, 3356, etc.
IP Addressing: Actual allocated blocks (174.x.x.x, 3.3.56.x, etc.)
```

**Pros**:
- ‚úÖ Maximum realism
- ‚úÖ Teaches real IP management
- ‚úÖ Looks impressive

**Cons**:
- ‚ùå Can't actually announce (would black-hole traffic)
- ‚ùå Confusing in documentation
- ‚ùå Legal/ethical gray area

### Option C: Hybrid (Recommended) ‚úÖ
```
AS Numbers:
  - Tier-1s: Real (AS174, AS3356)
  - Your ISPs: Private (AS65000, AS65100, AS65001, AS65002)

IP Addressing:
  - Tier-1s: Real or RFC5737 documentation prefixes
  - Your ISPs: RFC1918 private + your actual /29
  - Internal: RFC1918 private
```

**Pros**:
- ‚úÖ Realistic where it matters
- ‚úÖ Safe and clearly a lab
- ‚úÖ Teaches both public and private management
- ‚úÖ Best of both worlds

**Cons**:
- ‚ö†Ô∏è Need to be clear about what's real vs simulated

---

## üìã Recommended Addressing Scheme

### AS Numbers

```yaml
Tier-1 ISPs (Real ASNs for realism):
  Level 3: AS3356 (actual Level 3 ASN)
  Cogent: AS174 (actual Cogent ASN)
  Why: Maximum realism, everyone recognizes these

Your ISPs (Private ASNs):
  Atlas Lab ISP: AS65000
  Second ISP: AS65100
  Why: Private range (64512-65534), clearly not real ISP

Customers (Private ASNs):
  On-Prem Customer: AS65001
  Cloud Customer: AS65002
  Why: Private range, clearly customer networks
```

**Documentation Note**:
> "We use real Tier-1 ASNs (AS174, AS3356) for realism in the simulation, but these routers do not connect to the actual internet. Our simulated regional ISPs use private ASNs (AS65000, AS65100) to clearly indicate they are laboratory networks."

### IP Address Blocks

#### Tier-1 ISPs: Use RFC5737 Documentation Prefixes

**RFC5737** defines prefixes specifically for documentation:
- 192.0.2.0/24 (TEST-NET-1)
- 198.51.100.0/24 (TEST-NET-2)
- 203.0.113.0/24 (TEST-NET-3)

```yaml
Level 3 (AS3356):
  Loopbacks: 203.0.113.1/32, 203.0.113.2/32
  Links to Cogent: 203.0.113.0/30
  Links to Atlas ISP: 203.0.113.4/30
  IXP Peering: 198.51.100.56/24

Cogent (AS174):
  Loopbacks: 192.0.2.1/32, 192.0.2.2/32
  Links to Level3: 192.0.2.0/30
  Links to Second ISP: 192.0.2.4/30
  IXP Peering: 198.51.100.174/24

IXP Peering LAN:
  Prefix: 198.51.100.0/24 (RFC5737)
  Route Server: 198.51.100.1/24
  Level 3: 198.51.100.56/24
  Cogent: 198.51.100.174/24
  Atlas ISP: 198.51.100.100/24
  Second ISP: 198.51.100.101/24
```

**Why RFC5737?**
- ‚úÖ Designed for documentation/examples
- ‚úÖ Won't conflict with real networks
- ‚úÖ Recognized as "example" addresses
- ‚úÖ Safe to publish in blog posts/portfolio
- ‚úÖ Looks like public IPs

#### Your ISPs: Private + Your Real /29

```yaml
Atlas Lab ISP (AS65000):
  Core Loopbacks: 10.0.0.0/24
    - Core-CHI: 10.0.0.1/32
    - Core-NYC: 10.0.0.2/32

  Border Loopbacks: 10.0.0.0/24
    - AT-BR-1: 10.0.0.101/32
    - AT-BR-2: 10.0.0.102/32

  Core Links: 10.0.1.0/24

  Customer Facing: 100.64.0.0/16
    - (RFC6598 - Carrier-Grade NAT space)
    - To On-Prem: 100.64.10.0/30

Second ISP (AS65100):
  Core Loopbacks: 10.1.0.0/24
  Border Loopbacks: 10.1.0.0/24
  Core Links: 10.1.1.0/24
  Customer Facing: 100.64.0.0/16
    - To Cloud: 100.64.20.0/30
```

#### Your Actual Public IPs (Optional Enhancement)

**Your AT&T /29 Block**: x.x.x.x/29 (5 usable IPs)

```yaml
Usage:
  IP1 (x.x.x.1): Home production
  IP2 (x.x.x.2): Currently unused
  IP3 (x.x.x.3): Lab "Internet" router ‚Üê NEW
  IP4 (x.x.x.4): Lab public service ‚Üê Available
  IP5 (x.x.x.5): Reserved ‚Üê Available

Lab "Internet" Router:
  - Gets real public IP (x.x.x.3)
  - Connected via physical passthrough
  - Can advertise real IP to Tier-1 sims
  - Makes "internet" connection actually real!
```

**Hybrid Approach**:
```
Tier-1 ISPs simulate with RFC5737 docs prefixes
     ‚Üì
Your ISPs use RFC1918 private space
     ‚Üì
"Internet" router has REAL public IP
     ‚Üì
Customer networks use RFC1918 private
```

**This gives you**:
- Realistic Tier-1 sim with doc prefixes
- Private space for your ISPs (safe)
- Real public IP for internet connectivity
- Best of all worlds!

#### Customer Networks

```yaml
On-Premises Customer (AS65001):
  Loopback: 192.168.100.1/32
  LAN: 192.168.100.0/24
  K8s Pods: 10.244.0.0/16
  K8s Services: 10.96.0.0/16
  Storage: 10.10.0.0/16

Cloud Customer (AS65002):
  OCI VCN: 10.20.0.0/16
  OCI K8s Pods: 10.21.0.0/16
  OCI K8s Services: 10.22.0.0/16
```

---

## üéì What This Teaches

### Using Real ASNs
**Learning**:
- How actual AS numbers work
- Recognizing major ISP ASNs
- AS path analysis
- Route filtering by ASN


### Using Documentation Prefixes
**Learning**:
- RFC5737 documentation networks
- When to use what address space
- Public IP management principles
- Route filtering


### Private ASNs for Your Networks
**Learning**:
- Private AS range (64512-65534)
- When to use private vs public ASNs
- AS path manipulation
- Enterprise BGP design


---

## üìä Complete Addressing Table

### Master IP Allocation

```yaml
# Tier-1 ISPs (RFC5737 Documentation Space)
Tier1_Space:
  Level3_AS3356:
    Loopbacks: 203.0.113.0/29
      - L3-CR-1: 203.0.113.1/32
      - L3-CR-2: 203.0.113.2/32
      - L3-BR-1: 203.0.113.3/32
      - L3-BR-2: 203.0.113.4/32

    Links: 203.0.113.8/29
      - To Cogent: 203.0.113.8/30
      - To Atlas ISP: 203.0.113.12/30
      - Internal: 203.0.113.16/30

    IXP: 198.51.100.56/24

  Cogent_AS174:
    Loopbacks: 192.0.2.0/29
      - Cog-CR-1: 192.0.2.1/32
      - Cog-CR-2: 192.0.2.2/32
      - Cog-BR-1: 192.0.2.3/32
      - Cog-BR-2: 192.0.2.4/32

    Links: 192.0.2.8/29
      - To Level3: 192.0.2.8/30
      - To Second ISP: 192.0.2.12/30
      - Internal: 192.0.2.16/30

    IXP: 198.51.100.174/24

# IXP (RFC5737)
IXP:
  Peering_LAN: 198.51.100.0/24
  Route_Servers:
    - MADIX-RS1: 198.51.100.1/24
    - MADIX-RS2: 198.51.100.2/24
  Participants:
    - Level3: 198.51.100.56/24
    - Cogent: 198.51.100.174/24
    - Atlas-ISP: 198.51.100.100/24
    - Second-ISP: 198.51.100.101/24

# Atlas Lab ISP - AS65000 (RFC1918)
Atlas_ISP_AS65000:
  Core:
    Loopbacks: 10.0.0.0/24
      - AT-CR-1: 10.0.0.1/32
      - AT-CR-2: 10.0.0.2/32
      - AT-BR-1: 10.0.0.101/32
      - AT-BR-2: 10.0.0.102/32

    Core_Links: 10.0.1.0/24
      - CR1-CR2: 10.0.1.0/30
      - CR1-BR1: 10.0.1.4/30
      - CR1-BR2: 10.0.1.8/30
      - CR2-BR1: 10.0.1.12/30
      - CR2-BR2: 10.0.1.16/30

  Customer_Facing: 100.64.0.0/16 (RFC6598 CGN)
    - To On-Prem CE: 100.64.10.0/30

  Upstream_Transit:
    - To Level3: 203.0.113.13/30 (using Tier-1's space)
    - To Cogent: 192.0.2.13/30 (using Tier-1's space)

# Second ISP - AS65100 (RFC1918)
Second_ISP_AS65100:
  Core:
    Loopbacks: 10.1.0.0/24
    Core_Links: 10.1.1.0/24

  Customer_Facing: 100.64.0.0/16
    - To Cloud CE: 100.64.20.0/30

  Upstream_Transit:
    - To Cogent: 192.0.2.14/30

# Customer Networks (RFC1918)
Customers:
  OnPrem_AS65001:
    Loopback: 192.168.100.1/32
    LAN: 192.168.100.0/24
    K8s_Pods: 10.244.0.0/16
    K8s_Services: 10.96.0.0/16
    Storage: 10.10.0.0/16

  Cloud_AS65002:
    OCI_VCN: 10.20.0.0/16
    K8s_Pods: 10.21.0.0/16
    K8s_Services: 10.22.0.0/16

# Tunnel/VPN Space
Tunnels:
  Lab_to_OCI: 172.16.0.0/30
  Lab_to_AWS: 172.16.0.4/30
  Lab_to_Azure: 172.16.0.8/30
```

---

## üéØ Implementation Guidelines

### 1. Documentation

**Always document which addresses are what**:

```markdown
# IP Addressing Scheme

## Tier-1 ISPs
We use RFC5737 documentation prefixes for Tier-1 ISPs:
- Level 3 (AS3356): 203.0.113.0/24
- Cogent (AS174): 192.0.2.0/24

These are NOT actual Level 3/Cogent IPs, but documentation
prefixes chosen to look realistic while being clearly
non-production.

## Our ISPs
Atlas Lab ISP (AS65000) uses RFC1918 private space:
- 10.0.0.0/16 for internal infrastructure

## Real Public IPs
We have ONE real public IP (x.x.x.3 from AT&T /29) used
for the lab "Internet" router, enabling actual internet
connectivity for testing.
```

### 2. Netbox Configuration

**In Netbox, use proper RIR designation**:

```yaml
Prefix: 203.0.113.0/24
RIR: ARIN
Status: Reserved (RFC5737)
Description: "Level 3 Simulation (Documentation Prefix)"
VLAN: None
Role: Tier-1 ISP Simulation

Prefix: 10.0.0.0/16
RIR: RFC1918
Status: Active
Description: "Atlas Lab ISP Internal"
VLAN: 100
Role: ISP Core

Prefix: x.x.x.0/29
RIR: ARIN
Status: Active
Description: "AT&T Allocated Block (REAL)"
Role: Lab Internet Connection
```

### 3. Configuration Comments

**In router configs, be explicit**:

```cisco
! Level 3 Simulation (AS3356)
! Using RFC5737 documentation prefix 203.0.113.0/24
! This is NOT actual Level 3 address space
!
hostname L3-CR-1
!
interface Loopback0
 description Level3 Router ID (Doc Prefix)
 ip address 203.0.113.1 255.255.255.255
!
router bgp 3356
 ! Using actual Level 3 ASN for realism
 bgp router-id 203.0.113.1
 neighbor 203.0.113.2 remote-as 3356
 neighbor 203.0.113.2 description L3-CR-2
```


---

## ‚úÖ Final Recommendation

**Use the Hybrid Approach**:

```yaml
Tier-1 ISPs:
  ASNs: Real (AS174, AS3356)
  IPs: RFC5737 documentation prefixes
  Why: Maximum realism, safe to publish

Your ISPs:
  ASNs: Private (AS65000, AS65100)
  IPs: RFC1918 private + your real /29
  Why: Clearly lab, teaches both private and public

Customers:
  ASNs: Private (AS65001, AS65002)
  IPs: RFC1918 private
  Why: Standard enterprise addressing

IXP:
  Peering LAN: RFC5737 (198.51.100.0/24)
  Why: Neutral exchange point space
```

**Benefits**:
- ‚úÖ Realistic Tier-1 simulation
- ‚úÖ Safe and clearly non-production
- ‚úÖ Teaches public and private IP management
- ‚úÖ Real public IP integration possible
- ‚úÖ Great for documentation/portfolio

